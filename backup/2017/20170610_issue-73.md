title: "Swift å‘¨æŠ¥ #73"
date: 2017-06-10
tags: [Swift å‘¨æŠ¥]
categories: [Jesse Squires]
permalink: issue-73
keywords: Issue #73
custom_title:
description:

---
åŸæ–‡é“¾æ¥=https://swiftweekly.github.io/issue-73/
ä½œè€…=Jesse Squires
åŸæ–‡æ—¥æœŸ=2017-06-09
è¯‘è€…=å››å¨˜
æ ¡å¯¹=walkingway
å®šç¨¿=CMB

<!--æ­¤å¤„å¼€å§‹æ­£æ–‡-->

è¿™å‘¨çš„äº‹æƒ…å¾ˆå¤šï¼ä»Šå¤©æ˜¯ [WWDC 2017](https://developer.apple.com/videos/wwdc2017/) çš„æœ€åä¸€å¤©ï¼ŒSwift 4 éšç€ [Xcode 9](https://developer.apple.com/xcode/)ï¼Œä¸€èµ·æ”¾å‡ºäº†å¼€å‘è€…å…¬æµ‹ç‰ˆã€‚Xcode å’Œ Swift éƒ½æœ‰å¥½å‡ ä¸ªé‡å¤§çš„æ”¹è¿›å’Œæ–°çš„åŠŸèƒ½ â€” è¿™ä¸ªç‰ˆæœ¬çœŸçš„å¾ˆæ£’ã€‚æ•´ä¸ª[ç¤¾åŒº](https://twitter.com/ericasadun/status/871819962888802304)çš„[åå“](https://twitter.com/SmileyKeith/status/871852588844556288)[éƒ½](https://twitter.com/fpillet/status/871987276187828224)[å¾ˆ](https://twitter.com/chriseidhof/status/873066951739703296)[æ­£](https://twitter.com/tonyarnold/status/873017116298846208)[é¢](https://twitter.com/ayanonagon/status/871850052498489344)ã€‚æ­å–œ Apple çš„ Xcode, Swift å’Œå¼€å‘å·¥å…·ç»„ï¼

<!--more-->
 
> æƒ³è¦èµåŠ© Swift Weekly Brief å—ï¼Ÿ[ç‚¹å‡»æ­¤å¤„äº†è§£æ›´å¤š](https://swiftweekly.github.io/sponsorship/)  

## Swift è§£åŒ…

ç¬¬ 14 é›†ï¼š[Swift æ›´æ–°å†…å®¹ï¼ŒPart 1](https://spec.fm/podcasts/swift-unwrapped/70808)

æˆ‘ä»¬è®¨è®ºäº† Swift 4 é‡Œçš„ä¸€äº›æ–°åŠŸèƒ½å’Œæ”¹è¿›ã€‚

## èµ„è®¯åŠç¤¾åŒº

Apple [å®£å¸ƒ](https://www.apple.com/newsroom/2017/06/swift-playgrounds-expands-coding-education-to-robots-drones-and-musical-instruments/) Swift Playgrounds å·²ç»æ”¯æŒå¯¹ç©å…·æœºå™¨äººå’Œæ— äººæœºçš„ç¼–ç¨‹äº†ã€‚ä»–ä»¬æ­£ä¸å¤šå®¶å…¬å¸åˆä½œï¼ŒåŒ…æ‹¬ Lego, Sphero ç­‰ä¸€ä¼—å…¬å¸ã€‚ è¿™ä»¶äº‹æƒ…å¾ˆæ£’å¾ˆå¥½ç©ï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹[ç›¸å…³è§†é¢‘](https://www.youtube.com/watch?v=v7926MzvXOQ)ã€‚

Erica Sadun çš„æ–°ä¹¦ [Swift Style](http://ericasadun.com/2017/06/01/swift-style-wwdc-sale/) è¿™å‘¨æ­£å¼å¼€å§‹é”€å”®ã€‚

objc.io å·²ç»æ”¾å‡ºäº†ä»–ä»¬çš„æ–°ä¹¦ï¼Œ[Optimizing Collections](https://www.objc.io/blog/2017/06/02/optimizing-collections/)ã€‚ä½œè€… [KÃ¡roly LÅ‘rentey](https://twitter.com/lorentey) åœ¨è¿™æœ¬ä¹¦é‡Œä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Swift ç¼–å†™é«˜æ•ˆçš„è‡ªå®šä¹‰é›†åˆç±»å‹ã€‚

[Xcode 9 beta ä»¥åŠæ–°çš„ SDK](https://developer.apple.com/news/?id=06052017d) å…¨éƒ½æ”¾å‡ºæ¥å•¦ï¼

## WWDC é‡Œå…³äº Swift çš„è§†é¢‘

- [Whatâ€™s new in Swift](https://developer.apple.com/videos/play/wwdc2017/402/)
- [Whatâ€™s new in Swift Playgrounds](https://developer.apple.com/videos/play/wwdc2017/408/)
- [Teaching with Swift Playgrounds](https://developer.apple.com/videos/play/wwdc2017/416/)
- [Whatâ€™s new in Foundation](https://developer.apple.com/videos/play/wwdc2017/212/)
- [Understanding undefined behavior](https://developer.apple.com/videos/play/wwdc2017/407/)

## æäº¤å’Œåˆå¹¶çš„è¯·æ±‚

Rober Widmann [åˆå¹¶äº†ä¿®æ”¹](https://github.com/apple/swift/pull/10175)ï¼Œä½¿ç”¨äº† Xcode æ–°çš„æœªå®šä¹‰è¡Œä¸ºæ£€æµ‹å™¨ï¼Œæ¥ä¿®å¤äº†ä¸€äº›æœªå®šä¹‰çš„è¡Œä¸ºã€‚

Roman Levenstein [åšäº†ä¸€äº›å°è°ƒæ•´](https://github.com/apple/swift/pull/10096)ï¼Œè®©æ ‡å‡†åº“çš„ä»£ç ä½“ç§¯å‡å°‘äº† 1.5% ï¼ï¼ï¼

Swift æœåŠ¡ç«¯ API å·¥ä½œç»„å‘å¸ƒäº†ä¸€ä¸ª[æ–°çš„ repo](https://github.com/swift-server/http)ï¼Œä¸»è¦æ˜¯å…³äºè·¨å¹³å° HTTP API çš„å¼€å‘ã€‚

Ben Cohen å‘ `swift-4.0 åˆ†æ”¯`[å‘èµ·äº†ä¸€ä¸ªåˆå¹¶çš„è¯·æ±‚](https://github.com/apple/swift/pull/10161)ï¼Œç”¨äºæé«˜ substring æ¯”è¾ƒçš„æ€§èƒ½ã€‚Nate Cook [ä¹Ÿå‘èµ·äº†ä¸€ä¸ªæé«˜å­—å…¸æ•ˆç‡çš„åˆå¹¶è¯·æ±‚](https://github.com/apple/swift/pull/10156)ï¼Œç°åœ¨å·²ç»æœ‰[å¥½å‡ ä¸ª Swift 4 çš„åˆå¹¶è¯·æ±‚](https://github.com/apple/swift/pulls?utf8=âœ“&q=is%3Apr%20%5B4.0%5D%20in%3Atitle) äº†ï¼Œå¸Œæœ›é‚£äº›å·²ç»è¯·æ±‚å®Œæˆçš„åˆå¹¶è¯·æ±‚å¯ä»¥å°½å¿«é€šè¿‡ã€‚æˆ‘ä»¬åº”è¯¥å¯ä»¥åœ¨æ¥ä¸‹æ¥çš„ beta ç‰ˆé‡Œçœ‹åˆ°è¿™äº›æ”¹è¿›ã€‚

Slava Pestov [ä¿®å¤](https://github.com/apple/swift/pull/10162)äº†å‡ ä¸ª Bugã€‚ğŸ‘

## æ­£åœ¨ review çš„ææ¡ˆ

[SE-0180](https://github.com/apple/swift-evolution/blob/master/proposals/0180-string-index-overhaul.md)ï¼šå­—ç¬¦ä¸²ç´¢å¼•ç±»å‹ç»Ÿä¸€ï¼ŒDave Abrahamsï¼Œ[æ­£åœ¨ review](https://lists.swift.org/pipermail/swift-evolution-announce/2017-June/000384.html)

> ç°åœ¨ `String` è·Ÿå®ƒçš„ `CharacterView` å…±ç”¨ä¸€ä¸ª `Index` ç±»å‹ï¼Œä½† `UTF8View`ï¼Œ  `UTF16View` ä»¥åŠ `UnicodeScalarView` å°±ä¸æ˜¯äº†ã€‚è¿™ä¸ªææ¡ˆé‡æ–°å®šä¹‰äº†è¿™å‡ ä¸ªç±»å‹çš„ `Index` ç±»å‹ï¼Œè®©å®ƒä»¬è·Ÿ `String` ä¿æŒä¸€è‡´ã€‚å¹¶ä¸”æš´éœ²ä¸€ä¸ªå…¬å¼€çš„ `encodedOffset` å±æ€§å’Œæ„é€ å™¨ï¼Œç”¨äºåºåˆ—åŒ–å’Œååºåˆ—åŒ– `String` å’Œ `Substring` çš„ç´¢å¼•å€¼ã€‚  
>   
> [â€¦]
>   
> è¿™æ ·çš„ç»“æœå°±æ˜¯å¾ˆå¤š API éƒ½æ— æ³•ä»åŸæœ¬çš„è®¾è®¡ä¸­è·ç›Šï¼Œé€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ª view çš„ç´¢å¼•å¦‚æœå¯ä»¥åœ¨å¦ä¸€ä¸ª view æœ‰å¯¹åº”çš„ç´¢å¼•å€¼çš„è¯ï¼Œè¿™äº›ç´¢å¼•å€¼çš„è½¬æ¢éƒ½åº”è¯¥åœ¨å†…éƒ¨å®Œæˆï¼Œè€Œä¸æ˜¯åƒç°åœ¨è¿™æ ·éœ€è¦å†™å¾ˆå¤šä¸å¿…è¦çš„ä»£ç ã€‚ 
>   
> [â€¦]  
>
>   
> æ‰€æœ‰ String çš„ view éƒ½ä¼šä½¿ç”¨åŒä¸€ç§ Index ç±»å‹ (`String.Index`)ï¼Œè¿™æ ·ç´¢å¼•å€¼å°±å¯ä»¥åœ¨å†…éƒ¨è¿›è¡Œè½¬æ¢ï¼Œè€Œä¸ç”¨æ˜¾å¼åœ°å»å®Œæˆã€‚  
>   
> [æŸ¥çœ‹åŸæ–‡â€¦](https://github.com/apple/swift-evolution/blob/master/proposals/0180-string-index-overhaul.md)  

## é‚®ä»¶åˆ—è¡¨

Ted Kremenek å‘å¸ƒäº†[ä¸€ä¸ªå…¬å‘Š](https://lists.swift.org/pipermail/swift-dev/Week-of-Mon-20170605/004751.html)ï¼Œå…³äºå³å°†å¼€æºçš„é‡æ„å·¥å…·ï¼Œä»¥åŠå…¶å®ƒåœ¨ WWDC å…¬å¸ƒçš„äº‹æƒ…ï¼š
  
> ä»Šå¤©ä¸‹åˆåœ¨ WWDC ä¸Šï¼Œæˆ‘ä»¬å‘å¸ƒäº† Xcode 9 é‡Œæ–°çš„é‡æ„åŠŸèƒ½(æ”¯æŒ Swiftï¼ŒCï¼ŒObjective-C å’Œ C++)ã€‚æˆ‘ä»¬åŒæ—¶å®£å¸ƒå°†ä¼šæŠŠè¿™ä¸ªå¼•æ“çš„æ ¸å¿ƒä»£ç å¼€æºå‡ºæ¥ï¼ŒåŒ…æ‹¬ Xcode ç¼–è¯‘æ—¶æ‰ä¼šç´¢å¼•çš„æ–°åŠŸèƒ½ã€‚ 
>   
> å¤§æ¦‚ä¼šåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæ˜ŸæœŸé‡Œ, æˆ‘ä»¬å°†ä¼šåˆ†é˜¶æ®µæŠŠè¿™äº›ä»£ç å‘å¸ƒå‡ºæ¥ï¼š 
>
> - å…³äº Swift çš„é‡æ„åŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€äº›æ”¶å°¾å·¥ä½œï¼Œä¾‹å¦‚æ–‡æ¡£çš„ç¼–å†™ï¼Œæˆ‘ä»¬æƒ³åœ¨å‘å¸ƒä¹‹å‰å®Œæˆã€‚ Argyrios Kyrtzidis å’Œä»–çš„å›¢é˜Ÿè´Ÿè´£å¤„ç†è¿™ä¸ªè®¡åˆ’ã€‚  
>  
> - å…³äº C/C++/Objective-C çš„é‡æ„åŠŸèƒ½ï¼Œæˆ‘ä»¬æƒ³å’Œ LLVM ç¤¾åŒºä¸€èµ·å®Œæˆç„¶åå¹¶å…¥ LLVMã€‚ç¬¬ä¸€é˜¶æ®µåº”è¯¥ä¼šåœ¨ swift-clang çš„ repo é‡Œå®Œæˆï¼Œä½†æ˜¯ä»–ä»¬æƒ³åšçš„ä¸åªæ˜¯è¿™äº›ã€‚Duncan Exon Smith å’Œä»–çš„å›¢é˜Ÿè´Ÿè´£è¿™ä¸ªè®¡åˆ’ã€‚  
> 
> - æˆ‘ä»¬ä¹Ÿä¼šå¼€æºç¼–è¯‘å™¨å¯¹äºç¼–è¯‘æ—¶ç´¢å¼•çš„æ”¯æŒï¼ŒåŒ…æ‹¬äº† Clang å’Œ Swiftã€‚Argyrios å’Œä»–çš„å›¢é˜Ÿè´Ÿè´£æ¨è¿›è¿™ä»¶äº‹ã€‚å…³äº Clang çš„æ”¹å˜ä»–ä»¬åº”è¯¥ä¼šåœ¨ä¹Ÿä¼šåœ¨ swift-clang ä¸Šå®Œæˆï¼Œç„¶åè·Ÿ LLVM ç¤¾åŒºè®¨è®ºå¦‚ä½•å°†ä»–ä»¬å¹¶å…¥ Clang é‡Œã€‚  
>
> - æœ€åï¼Œæˆ‘ä»¬å°†ä¼šæŠŠ Swift è¿ç§»å·¥å…·å‰©ä½™çš„éƒ¨åˆ†å¼€æºå‡ºæ¥ã€‚Argyrios å’Œä»–çš„å›¢é˜Ÿè´Ÿè´£æ¨è¿›è¿™ä»¶äº‹æƒ…ï¼Œè¿™äº›ä¿®æ”¹åªä¼šåœ¨ Swift ä»“åº“é‡Œå®Œæˆã€‚  
>
>   
> å’Œä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®Œæˆ Swift ä¸ Apple æœ€æ–°çš„ SDK çš„æ¡¥æ¥å·¥ä½œã€‚å¸Œæœ›å¯ä»¥åœ¨ä¸‹å‘¨ä¹‹å‰å®Œæˆï¼Œä¹‹åæˆ‘ä»¬å°±ä¼šæš‚æ—¶å…³é—­ä»“åº“çš„ commit æƒé™ã€‚ç›¸å…³çš„ç»†èŠ‚ä¹‹åä¼šé€šè¿‡é‚®ä»¶å…¬å¸ƒã€‚åœ¨æ­¤ä¹‹å‰ï¼Œ Swift.org çš„å¯ä¸‹è½½çš„å·¥å…·é“¾éƒ½å¯ä»¥è·Ÿ Xcode 8.3.2 äº¤äº’ã€‚åœ¨è¿™ä¹‹å, æˆ‘ä»¬å¯ä¸‹è½½çš„å·¥å…·é“¾å°±ä¸»è¦ä¼šé¢å‘ Xcode 9 betaã€‚è¿™ä»¶äº‹æƒ…å¾ˆå¿…è¦ï¼Œå› ä¸ºä¹‹åæœ€ä¸Šå±‚çš„ API ä¼šä¾èµ–äºæœ€æ–°çš„ SDKã€‚  

Rick Ballard å‘äº†ä¸€ä¸ªå…³äº Swift 4 åŒ…ç®¡ç†å™¨çš„[å…¬å‘Š](https://lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170605/037002.html):

>   
> Hello, Swift Pacakage Manager çš„ç¤¾åŒºã€‚  
>
>   
> æˆ‘æƒ³è¦æ±‡æŠ¥ä¸€ä¸‹ Swift 4 é‡Œ SwiftPM çš„å¼€å‘è¿›åº¦ã€‚æˆ‘ä»¬å·²ç»åœ¨è¿™ä¸ªæ˜¥å­£å®ç°äº†ä¸€ç³»åˆ—çš„ evolution ææ¡ˆï¼š 
>   
> - [SE-0152](https://github.com/apple/swift-evolution/blob/master/proposals/0152-package-manager-tools-version.md) [â€¦]  
> - [SE-0158](https://github.com/apple/swift-evolution/blob/master/proposals/0158-package-manager-manifest-api-redesign.md) [â€¦]  
> - [SE-0151](https://github.com/apple/swift-evolution/blob/master/proposals/0151-package-manager-swift-language-compatibility-version.md) [â€¦]  
> - [SE-0146](https://github.com/apple/swift-evolution/blob/master/proposals/0146-package-manager-product-definitions.md) [â€¦]  
> - [SE-0175](https://github.com/apple/swift-evolution/blob/master/proposals/0175-package-manager-revised-dependency-resolution.md) [â€¦]  
> - [SE-0150](https://github.com/apple/swift-evolution/blob/master/proposals/0150-package-manager-branch-support.md) [â€¦]  
> - [SE-0162](https://github.com/apple/swift-evolution/blob/master/proposals/0162-package-manager-custom-target-layouts.md) [â€¦]  
> - [SE-0149](https://github.com/apple/swift-evolution/blob/master/proposals/0149-package-manager-top-of-tree.md) [â€¦]  
>  
>   
> é™¤äº†è¿™äº›ææ¡ˆï¼Œæˆ‘ä»¬è¿˜å®ç°äº†ä¸€äº›é‡å¤§çš„æ”¹è¿›ï¼š 
>
> - åœ¨ macOS ä¸Šï¼ŒåŒ…çš„äº¤äº’å’ŒåŒ…çš„ç¼–è¯‘ç°åœ¨éƒ½æ²™ç›’åŒ–äº†ï¼Œèƒ½å¤Ÿå‡è½»æ¶æ„è½¯ä»¶å¸¦æ¥çš„æŸè€—ã€‚ 
> 
> - è®¸å¤šé”™è¯¯ä¿¡æ¯å’Œè¯Šæ–­éƒ½åŠ å¼ºäº†ï¼ŒåŒ…æ‹¬ä¾èµ–ç®¡ç†æ—¶å‡ºç°çš„å†²çªã€‚
>
> - Xcode å·¥ç¨‹æ–‡ä»¶ç”Ÿæˆå™¨ä¹Ÿæ”¹è¿›äº†ï¼Œç°åœ¨å…è®¸åœ¨é‡æ–°ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶æ—¶è®© scheme å¼•ç”¨åŒ…é‡Œçš„ targetã€‚  
>  
> - å¹¶ä¸”åšäº†å¤§é‡çš„å°æ”¹è¿›å’Œ bug ä¿®å¤ã€‚  
>
> Xcode 9 åœ¨æ–°çš„ç¼–è¯‘ç³»ç»Ÿé‡Œä¸º Swift åŒ…ç®¡ç†æä¾›äº†åŸç”Ÿçš„æ”¯æŒã€‚è¿™ä¸ªç¼–è¯‘ç³»ç»Ÿæä¾›äº†çµæ´»æ€§å’Œæ‹“å±•æ€§ï¼Œè®© Xcode å¯ä»¥æ”¯æŒæ–°çš„ç¼–è¯‘æ¨¡å‹ï¼Œä¾‹å¦‚ Swift åŒ…ç®¡ç†ã€‚æ­¤å¤–, SwiftPM ä¸º SwiftPM çš„åº“åšäº†å¤§é‡çš„å·¥ä½œï¼Œè®© Swift åŒ…ç®¡ç†çš„å·¥å…·å¯ä»¥è½»æ¾åµŒå…¥è¯¸å¦‚ Xcode çš„è½¯ä»¶é‡Œã€‚
>
>   
> é‚£ SwiftPM 4 è¿˜æœ‰ä»€ä¹ˆï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬å°†ä¼šå®ç° [SE-0179](https://github.com/apple/swift-evolution/blob/master/proposals/0179-swift-run-command.md)ï¼Œæ”¯æŒ `swift package run` å‘½ä»¤ã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›å¼€å§‹æ”¾ä¸‹ç°åœ¨çš„ç‰ˆæœ¬ï¼Œç„¶åå¼€å§‹è®¡åˆ’åé¢ï¼Œè™½ç„¶æˆ‘ä»¬è¿˜æ˜¯åœ¨æ¥æ”¶å»ºè®®å’Œ evolution çš„ææ¡ˆ   
>   
> [â€¦]  
>
>   
> å…¶å®ƒåŠŸèƒ½æˆ‘ä»¬åº”è¯¥ä¼šè€ƒè™‘åœ¨ä¸‹ä¸ªç‰ˆæœ¬è¿›è¡Œæ”¯æŒï¼Œä¾‹å¦‚åŒ…èµ„æº(ä¾‹å¦‚å›¾ç‰‡)ï¼Œè®¸å¯è¯å’Œå…ƒæ•°æ®æ”¯æŒï¼Œç”¨äºå¤„ç†æºä»£ç æ§åˆ¶åˆ†æ”¯çš„æ˜¾å¼æ”¯æŒï¼Œä»¥åŠä¸€ä¸ªæ³›ç”¨çš„æœºåˆ¶å»å¤„ç†ç¼–è¯‘å·¥å…·ä¸æ”¯æŒåŒ…ç®¡ç†çš„æƒ…å†µã€‚æœ€å, æˆ‘ä»¬ç¡®å®è€ƒè™‘äº†ä¹‹åå»ºç«‹ä¸€ä¸ªä¸­å¿ƒåŒ–çš„åŒ…ç´¢å¼•æœºåˆ¶ï¼Œæˆ‘ä»¬ä¹Ÿè®¸ä¼šåœ¨æ¥ä¸‹æ¥ä¸€å¹´ä¸ºè¿™ä»¶äº‹æƒ…åšä¸€äº›åŸºç¡€å·¥ä½œã€‚ 
>
>   
> [æŸ¥çœ‹åŸæ–‡â€¦](https://lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170605/037002.html)  

## æœ€å

æœ€å -- [self storage](https://twitter.com/NeoNacho/status/871143591258734594)

